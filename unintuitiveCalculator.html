<html>
<div onclick="getCenterCoordinates('test')" id="test" style="left: 100px; position: relative; width: 100;height: 100; background-color: red;"></div>
<div onclick="getCenterCoordinates('test2')" id="test2" style="left: 1000px; position: relative; width: 100;height: 100; background-color: blue;"></div>
<div onclick="getDistance('test', 'test2')" id="test" style="left: 100px; position: relative; width: 100;height: 100; background-color: green;"></div>
<div onclick="evalInput()" id="test" style="left: 100px; position: relative; width: 100;height: 100; background-color: yellow;"></div>


<script>
    let user_input = ''
    let task = ''
    let times = []
    let lastTimestamp
    
    function getCenterCoordinates(id) {
        element = document.getElementById(id);
        x = element.offsetLeft + element.offsetWidth / 2;
        y = element.offsetTop + element.offsetHeight / 2;
        
        return [x,y]
    }

    function getDistance(id1, id2) {
        co_e1 = getCenterCoordinates(id1);
        co_e2 = getCenterCoordinates(id2);
        dist_x = Math.abs(co_e1[0] - co_e2[0]);
        dist_y = Math.abs(co_e1[1] - co_e2[1]);
        dist = Math.hypot(dist_x, dist_y);

        return dist
    }

    function generateTask() {
        return (Math.random()).toFixed(2) + ' * ' + (Math.random()).toFixed(2)
    }

    function calcID(task) {
        //TODO
    }

    function logTime() {
        if(typeof lastTimestamp !== 'undefined') {
            times.push(Date.now() - lastTimestamp);
        }
        
        lastTimestamp = Date.now()
    }

    function readInput(id) {
        element = document.getElementById(id);
        input = element.textContent;

        processInput(input);
    }

    function processInput(input) {
        token = task.slice(0, input.length)
        
        if(token === input) {
            user_input.concat(token);
            task = task.slice(input.length)
            logTime()
        } //else... potential error counting
    }

    function evalInput() {
        if(task.length > 0) {
            console.log('equation incomplete!')
            return;
        }
        
        regex = /[0-9]*\.[0-9]+/g;
        i = user_input.match(regex);
        logTime()

        return i[0] * i[1]
    }
</script>
</html>